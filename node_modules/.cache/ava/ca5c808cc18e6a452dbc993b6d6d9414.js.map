{"version":3,"sources":["track.js"],"names":["test","require","db","onSongEnd","data","field_one","field_two","cover_path","created_at","Date","updated_at","link","t","connect","pass"],"mappings":";;AAAA,MAAM,EAACA,IAAD,KAASC,QAAQ,KAAR,CAAf;;AAEA,MAAMC,KAAKD,QAAQ,UAAR,CAAX;;AAEA,MAAM,EAACE,SAAD,KAAcF,QAAQ,wBAAR,CAApB;;AAEA,MAAMG,OAAO;AACXC,aAAW,YADA;AAEXC,aAAW,gBAFA;AAGXC,cAAY,aAHD;AAIXC,cAAY,IAAIC,IAAJ,EAJD;AAKXC,cAAY,IAAID,IAAJ,EALD;AAMXE,QAAM;AANK,CAAb;;AASAX,KAAK,iCAAL,EAAwC,MAAOY,CAAP,IAAa;AACnD,QAAMV,GAAGW,OAAH,EAAN;;AAEA,QAAMV,UAAUC,IAAV,CAAN;;AAEAQ,IAAEE,IAAF;AACD,CAND","file":"track.js","sourcesContent":["const {test} = require('ava');\n\nconst db = require('../db.js');\n\nconst {onSongEnd} = require('../lib/socket/handlers');\n\nconst data = {\n  field_one: 'Walk On By',\n  field_two: 'Dionne Warwick',\n  cover_path: 'cover/11223',\n  created_at: new Date(),\n  updated_at: new Date(),\n  link: '/tmp/11223.mp3'\n};\n\ntest('should save new track and round', async (t) => {\n  await db.connect();\n\n  await onSongEnd(data);\n\n  t.pass();\n});\n"]}